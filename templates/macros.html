{% macro blogbit(page) %}
<article class="blog">
    <h3><a href="{{page.permalink | safe }}">{{page.title}}</a></h3>
    <span>•</span>
    {% if page.summary %}
    {{ page.summary | safe }}
    {% else %}
    {{ page.content | truncate(length=450) | safe }}
    {% endif %}
    <p class="more">
        <a href="{{page.permalink | safe}}">read →</a>
    </p>
</article>
{% endmacro blogbit %}

{% macro photobit(page) %}
<article class="photo">
    <a href="{{page.permalink | safe}}">
        {% if page.extra.photo %}
        <img src="{{page.extra.photo}}" alt="{{page.title}}"/>
        {% else %}
        {{page.title}}
        {% endif %}
    </a>
</article>
{% endmacro photobit %}

{% macro single(term) %}
<section class="results">
    {% for page in term.pages %}
    <article>
        <p>
            <span class="date">
                <time datetime="{{ page.date }}">{{ page.date | date(format="%B %e, %Y") }}</time>
            </span>
            <a href="{{ page.permalink }}">{{ page.title }}</a>
        </p>
    </article>
    {% endfor %}
</section>
{ %endmacro single %}

{% macro list(terms, taxonomy) %}
<article class="post">
    <ul class="alt columns">
        {% for term in terms %}
        <li>
            <a href=''{{ get_taxonomy_url(kind="{{taxonomy}}}", name=term.name) }}'>
                {{ term.name }}
            </a>
            ({{ term.pages | length }})
        </li>
        {% endfor %}
    </ul>
</article>
{% endmacro single %}
